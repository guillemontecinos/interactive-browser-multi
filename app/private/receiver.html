<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Receiver</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
</head>
<body>
    <script>
        // Interactive Browser Multiuser - Receiver
        // by Guillermo Montecinos

        // Source: https://socket.io/docs/#Using-with-Express
        // TODO: update this address with the current IP
        let socket = io.connect('http://localhost')

        function setup(){
            createCanvas(800, 500)
            strokeWeight(5)
            rect(0, 0, width, height)
        }

        socket.on('connection answer', function(data){
            console.log(data)
        })

        socket.on('to receiver', function(data){
            fill(255)
            strokeWeight(5)
            rect(0, 0, width, height)

            fill(0)
            ellipse(map(data.x, 0, 1, 0, width), map(data.y, 0, 1, 0, height), 20, 20)
        })
    </script>
</body>
</html>